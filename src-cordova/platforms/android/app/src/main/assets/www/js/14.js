(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"/HcB":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[n("div",{staticStyle:{width:"100vw"}},[n("q-list",e._l(e.engineers,function(t,i){return n("q-item",{key:i,attrs:{link:"",id:t},nativeOn:{click:function(n){e.onSelected(t)}}},[n("q-item-side",{attrs:{icon:"account_circle",color:"primary"}}),n("q-item-main",[n("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.firstname)+" "+e._s(t.lastname))]),t.lastseen?n("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.lastseen))]):e._e()],1),n("q-item-side",{attrs:{right:"",icon:"send"}})],1)}))],1),n("q-action-sheet",{attrs:{title:e.actionSheetTitle,actions:this.actions},on:{ok:e.onOk},model:{value:e.actionSheet,callback:function(t){e.actionSheet=t},expression:"actionSheet"}}),n("inner-loading",{attrs:{loading:e.isLoading}})],1)},s=[];i._withStripped=!0;var a=n("MVZn"),o=n.n(a),r=n("L2JU"),c=n("GWsV"),l={name:"equipment_transfer",data:function(){return{equipId:this.$route.params.id,userId:"",userName:"",actionSheet:!1,actions:[{label:"ยืนยัน",color:"positive",icon:"check_circle",handler:this.doTransfer},{label:"ยกเลิก",color:"negative",icon:"clear"}]}},created:function(){},mounted:function(){this.engineers.length||this.fetchEngineer()},methods:o()({},Object(r["b"])("equipment",["refresh"]),Object(r["d"])("isLoading",{root:!0}),Object(r["b"])(["fetchEngineer"]),{onSelected:function(e){this.userName=e.firstname+" "+e.lastname,this.userId=e.id,this.actionSheet=!this.actionSheet},doTransfer:function(){var e=this;this.isLoading=!0,this.$axiosInstance.post("equipment/transfer",{equip_id:this.equipId,user_id:this.userId}).then(function(t){e.isLoading=!1,e.$q.notify({color:"positive",message:t.data.message}),e.refresh().then(),e.$router.push("/equipment")}).catch(function(t){e.isLoading=!1,e.errors.push(t)})},onOk:function(e){e.handler||(console.log("aa"+e),this.$q.notify({color:"secondary",message:'Clicked on "'.concat(e.label,'"')}))},onCancel:function(){}}),components:{InnerLoading:c["a"]},computed:o()({},Object(r["c"])(["isLoading"]),Object(r["c"])("equipment",["equipments","getOnHandById"]),{engineers:function(){return this.$store.state.engineers},actionSheetTitle:function(){return'เปลี่ยนผู้ถือเป็น "'+this.userName+'" ใช่หรือไม่?'}})},u=l,d=(n("c/KC"),n("KHd+")),h=Object(d["a"])(u,i,s,!1,null,null,null);t["default"]=h.exports},"19fX":function(e,t,n){var i=n("IyQt");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=n("SZ7m").default;s("16f7b0b8",i,!1,{sourceMap:!1})},"2ga1":function(e,t,n){"use strict";var i=n("19fX"),s=n.n(i);s.a},GWsV:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-inner-loading",{attrs:{visible:e.loading}},[n("q-spinner-gears",{attrs:{size:"50px",color:"teal-4"}})],1)},s=[];i._withStripped=!0;var a={props:["loading"],data:function(){return{}}},o=a,r=(n("2ga1"),n("KHd+")),c=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=c.exports},IyQt:function(e,t,n){t=e.exports=n("I1BE")(!1),t.push([e.i,"",""])},"c/KC":function(e,t,n){"use strict";var i=n("dy06"),s=n.n(i);s.a},dMMH:function(e,t,n){t=e.exports=n("I1BE")(!1),t.push([e.i,"",""])},dy06:function(e,t,n){var i=n("dMMH");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=n("SZ7m").default;s("deda721e",i,!1,{sourceMap:!1})}}]);